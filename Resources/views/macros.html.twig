{% macro stop_select(stops, select_id, select_class, all_label, all_value, select_name) %}
    <select id='{{ select_id }}' name='{{ select_name }}' class='{{ select_class }}'>
        <option value='{{ all_value }}'>{{ all_label }}</option>
    {% for Stop in stops %}
        {% if Stop.masterStop is empty %}
        <option value='{{ Stop.id }}'>{{ Stop.getStopLabel }}</option>
        {% endif %}
    {% endfor %}
    </select>
{% endmacro %}

{% macro route_header(route) %}
    {{ 'trip.list.route.network'|trans({}, 'default') }} : 
    {% for datasource in route.lineVersion.line.lineDatasources %}
        {{ datasource.datasource.agency.name }} -
    {% endfor %}
    {{ 'trip.list.route.line'|trans({}, 'default') }} : 
    {{ route.lineVersion.line.number }} -
    {{ 'trip.list.route.version'|trans({}, 'default') }} : 
    {{ route.lineVersion.version }} - 
    {{ 'trip.list.route.name'|trans({}, 'default') }} : 
    {{ route.name }} ({{ route.way }})
{% endmacro %}

{% macro tableTrip(trips) %}
    <table class="table datatable table-hover">
        <thead>
            <th>{{ 'trip_calendar.trip.columns.name'|trans }}</th>
            <th>{{ 'trip_calendar.trip.columns.start'|trans }}</th>
            <th>{{ 'trip_calendar.trip.columns.service_type'|trans }}</th>
            <th>{{ 'trip_calendar.trip.columns.route'|trans }}</th>
            <th>{{ 'trip_calendar.trip.columns.start_end'|trans }}</th>
        </thead>
        <tbody>
        {% for trip in trips %}
            <tr>
                <td>
                    <a href="{{ path('tisseo_boa_trip_edit', {'tripId': trip.id}) }}">
                    {{ trip.name }}
                    </a>
                </td>
                <td>
                {% if trip.stopTimes %}
                    {{ _self.time_format(trip.stopTimes.first.arrivalTime) }}
                {% endif %}
                </td>
                <td>
                {% if trip.pattern %}
                    {{ trip.pattern.name }}
                {% endif %}
                </td>
                <td>
                    <a href="{{ path('tisseo_boa_route_edit', {'routeId': trip.route.id}) }}">
                    {{ trip.route.name }}
                    </a>
                </td>
                <td>
                {{ trip.route.routeStops.first.waypoint.stop.stopArea.nameLabel }}
                /
                {{ trip.route.routeStops.last.waypoint.stop.stopArea.nameLabel }}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endmacro %}
